From a2892b130b136514d3adb2f5a661fdf0ecce6bcd Mon Sep 17 00:00:00 2001
From: ravi vaishnav <ravi.vaishnav@netexperience.com>
Date: Thu, 28 Oct 2021 17:02:07 -0400
Subject: [PATCH] Correcting the EAP102 dts file.

Signed-off-by: ravi vaishnav <ravi.vaishnav@netexperience.com>
---
 .../patches/114-correcting-eap-102-dts.patch  | 48 +++++++++++++++++++
 1 file changed, 48 insertions(+)
 create mode 100644 target/linux/ipq807x/patches/114-correcting-eap-102-dts.patch

diff --git a/target/linux/ipq807x/patches/114-correcting-eap-102-dts.patch b/target/linux/ipq807x/patches/114-correcting-eap-102-dts.patch
new file mode 100644
index 0000000000..60aceff473
--- /dev/null
+++ b/target/linux/ipq807x/patches/114-correcting-eap-102-dts.patch
@@ -0,0 +1,48 @@
+Index: linux-4.4.60-qsdk-11f09717303ecd83c3a64e9efe23f25921dc1016/arch/arm64/boot/dts/qcom/qcom-ipq807x-eap102.dts
+===================================================================
+--- linux-4.4.60-qsdk-11f09717303ecd83c3a64e9efe23f25921dc1016.orig/arch/arm64/boot/dts/qcom/qcom-ipq807x-eap102.dts
++++ linux-4.4.60-qsdk-11f09717303ecd83c3a64e9efe23f25921dc1016/arch/arm64/boot/dts/qcom/qcom-ipq807x-eap102.dts
+@@ -32,8 +32,8 @@
+ 		 * Aliases as required by u-boot
+ 		 * to patch MAC addresses
+ 		 */
+-		ethernet1 = "/soc/dp5";
+ 		ethernet0 = "/soc/dp6";
++		ethernet1 = "/soc/dp5";
+ 
+ 		led-boot = &led_power;
+ 		led-failsafe = &led_power;
+@@ -641,27 +641,27 @@
+ 		phy-mode = "sgmii";
+ 	};
+ */
+-	dp6 {
++	dp5 {
+ 		device_type = "network";
+ 		compatible = "qcom,nss-dp";
+-		qcom,id = <6>;
++		qcom,id = <5>;
+ 		reg = <0x3a001800 0x200>;
+ 		qcom,mactype = <0>;
+ 		local-mac-address = [000000000000];
+ 		qcom,link-poll = <1>;
+-		qcom,phy-mdio-addr = <28>;
++		qcom,phy-mdio-addr = <24>;
+ 		phy-mode = "sgmii";
+ 	};
+ 
+-	dp5 {
++	dp6 {
+ 		device_type = "network";
+ 		compatible = "qcom,nss-dp";
+-		qcom,id = <5>;
++		qcom,id = <6>;
+ 		reg = <0x3a001a00 0x200>;
+ 		qcom,mactype = <0>;
+ 		local-mac-address = [000000000000];
+ 		qcom,link-poll = <1>;
+-		qcom,phy-mdio-addr = <24>;
++		qcom,phy-mdio-addr = <28>;
+ 		phy-mode = "sgmii";
+ 	};
+ 
-- 
2.25.1

